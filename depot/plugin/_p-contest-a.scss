// *
// * Plugin -> Contest (p-contest-a)
// * ====================================================================================================================


// --------------------------------------------------------- //
// BASE: Contest | STATE: Base
// --------------------------------------------------------- //

%p-contest-a_base {

    // --------------------------------------------------------- //
    // Contest Components
    //
    // * NOTE: This is a alpha version of a more OO approach,
    // *       will make refactoring in to the framework
    // *       easy in the future (not coupled with section) -JB (1/17/13)
    // --------------------------------------------------------- //

    // Contest Form Help

    .help-block { font-size: $font-sizeSmaller; font-style: italic; line-height: 1.2; } // Class name dictated by method -JB (1/17/13)

    // Contest Message

    .contest-message { font-size: $font-sizeLarger; font-weight: bold; margin-bottom: $leading; }

    .contest-message-callout {
        display: block;
        font-size: $font-sizeLarger * 2;
        font-weight: bold;
        line-height: 1.5;
    }

    .contest-message:last-child { margin-bottom: 0; } // If last/only child, remove white space -JB (1/17/13)

    .form-messages { @extend .contest-message; } // Generated by method -JB (1/17/13)

    // Contest Assigned Key

    .contest-assigned-key {
        background-color: #111;
        border: 1px solid #fff;
        color: #eee;
        display: block;
        font: 18px "Courier New", courier, monospace;
        padding: 3px 0;
        margin: 10px 0 $leading;
    }

    // Social

    .contest-social-intro { margin-bottom: $leading / 2; font-weight: bold; text-align: left; }

    // Instructions

    .p-contest-instructions {
        border-top: $box-border;
        margin-top: $leading;
        padding-top: $leading / 2;

        > p:last-child { margin-bottom: 0; } // Reset, remove extra white-space at bottom -JB (1/16/13)
    }
}

// --------------------------------------------------------- //
// BASE: Contest | STATE: Details
// --------------------------------------------------------- //

%p-contest-a_details {

    // --------------------------------------------------------- //
    // Base
    // --------------------------------------------------------- //

    .p-contest-entryForm { @include col(6); margin-left: 0; }
    .p-contest-entryInfo { @include col(6); }

    .p-contest-entryForm,
    .p-contest-entryInfo {
        background: $contest-bg;
        border: $contest-border;
        clear: right;
        padding: $contest-padding;
    }

    // --------------------------------------------------------- //
    // Contest Headers & Pre-content
    // --------------------------------------------------------- //

    // Page Header

    .h2 { clear: right; h2 { margin-bottom: $leading * 2; } } // Larger bottom margin used to clear tabs -JB (1/17/13)

    // Section Headers

    .contest-header { margin-bottom: $leading; }

    // Pre-content

    .pre-content {
        @include group;

        margin-bottom: $leading;
        .b-userAction { float: right; }
    }

    // --------------------------------------------------------- //
    // Contest Components
    // --------------------------------------------------------- //

    .cta-button { @include u-button-z; margin-bottom: $leading; }  // Needs refactoring into framework component -JB (1/17/13)
    form .cta-button { margin-bottom: 0; } // If inside a form, remove white space -JB (1/17/13)
    .p-contest-entryForm .cta-button { font-size: $font-sizeLarger; line-height: 1.5; padding: 12px 26px; }

    .b-social { margin-bottom: $leading; }

    // --------------------------------------------------------- //
    // Form Details
    // --------------------------------------------------------- //

    .p-contest-formDetails {
        text-align: center;

        // --------------------------------------------------------- //
        // States
        // --------------------------------------------------------- //

        // Disqualified
        // .s-disqualified { }

        // Ended

        &.s-ended {
            
            .contest-place { margin-bottom: $leading / 2; }
        }

        // Login
        // &.s-login { }

        // Open

        &.s-open {

            .contest-message-callout { display: inline-block; }
            form { text-align: left; }
        }

        // Role
        // &.s-role { }

        // Age Verification
        
        &.s-ageVerification {

            .contest-message { margin-bottom: $leading / 2; }
            .form-field { margin-bottom: $leading; }
        }

        // Success
        
        &.s-success {

            .contest-show-more { text-align: left; }
        }

        // Waiting
        // &.s-waiting { }

        // Wrong Region

        &.s-region {

            .contest-region-list { text-align: left; } // Reset main text-align: center -JB (1/17/13)
        }
    }

    // --------------------------------------------------------- //
    // Entry Info
    // --------------------------------------------------------- //

    .p-contest-entryInfo {

        img { height: auto; max-width: 100%; } // Suppress images to its container -JB (1/24/13)

        .b-tab {

            .b-tab-nav {
                position: absolute;
                left: -($contest-padding + 1); // 1px for border of container -JB (1/16/13)
                top: -((nth($tab-padding, 1) * 2) + $leading + $contest-padding + 1); // Move tabs back to the top, outside of the container, "+1" accounts for border of 1px -JB (1/16/13)
                
                .selected > a:after { display: none; }  // Reset speech bubble -JB (1/16/13)

                .b-tab-item > a { border: $contest-border; border-bottom-width: 0; }
            }
        }
    }
}



    // Still need to move over:

    // Contest Entry

    .s-enter {
        width: 240px;
        margin: 0 auto;
        input[type=text] { width: 100%; }
        label { text-align: left; float: left; }
        .field-description { color: red; font-weight: bold; font-size: 11px; float: right; margin: 0; }
    }

    // .form-field-boolean-field {
    //  input[type=checkbox] { float: left; margin: 3px 8px 0 0; }
    //  label { float: none; display: block; }
    // }

// --------------------------------------------------------- //
// Index Page
// --------------------------------------------------------- // 

%p-contest-a_index {
    text-align: center;
    .pre-content { float: right; }
    .h2 { text-align: left; clear: none; }
    .p-contest-title { 
        font-size: 18px;
        line-height: 1.5; 
        margin-bottom: 1em;
        text-align: left;
        em {  
            font-size: 11px;
            float: right;
            font-weight: normal;
            font-family: $font-family;
        } 
    }
    .b-list-thumb {
        @extend %u-image_pretty;
        @extend %u-image_prettyHover;
        img {

            &:hover { background: $tertiaryColor; }
        }
    }
    .b-list { clear: both; }
    .b-list-item { 
        > p { font-size: 15px; line-height: 1.6; } 
    }
    .p-contest-enter { @include u-button-z; padding: 1em 5em; margin-bottom: $leading; }
    .p-contest-information { 
        text-align: left;
        .p-contest-prizing,
        .p-contest-winners { @include col(6); }
        .p-contest-prizing { margin-left: 0; } 
        h6 { font-size: 12px; }
    }
}

// --------------------------------------------------------- //
// Widget
// --------------------------------------------------------- // 

%p-contest-a_widget {

    .contest-title { margin-bottom: $leading / 2; }
    .b-list-thumb {
        margin: 0 0 $leading / 2;
        @extend %u-image_pretty;
        @extend %u-image_prettyHover;
        height: 120px;
        > img { width: 265px; }
    }
    .contest-description { color: $font-color; margin-bottom: $leading / 2; }
    .contest-date { font-size: $font-sizeSmaller; text-align: right; }
}

// --------------------------------------------------------- //
// Mixin
// --------------------------------------------------------- //

@mixin p-contest-a {
    @extend %p-contest-a_base;

    &.s-details { @extend %p-contest-a_details; }
    &.s-index { @extend %p-contest-a_index; }
    &.s-widget { @extend %p-contest-a_widget; }
}